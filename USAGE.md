# LaTeX 开发模式使用指南

## 快速开始

### 基本用法

```powershell
# 启动开发模式（推荐）
.\dev.ps1
```

这会：

- 执行初始编译
- 开始监控所有 `.tex` 文件
- 当你保存文件时自动重新编译
- 按 `Ctrl+C` 停止监控

### 高级选项

```powershell
# 使用完整编译模式（包含参考文献）
.\dev.ps1 -Full

# 启动前清理构建文件
.\dev.ps1 -Clean

# 自定义防抖延迟（默认2秒）
.\dev.ps1 -Debounce 3

# 组合使用
.\dev.ps1 -Full -Clean -Debounce 1
```

## 工作流程

1. **启动开发模式**：运行 `.\dev.ps1`
2. **编辑文档**：在 Kiro 或其他编辑器中修改 `.tex` 文件
3. **保存文件**：脚本会自动检测变化并重新编译
4. **查看结果**：打开 `build\main.pdf` 查看更新后的文档
5. **停止监控**：按 `Ctrl+C` 退出

## 特性说明

- **智能防抖**：避免频繁保存导致的重复编译
- **自动忽略**：忽略临时文件（.aux, .log 等）和输出目录
- **实时反馈**：显示编译状态和时间
- **错误处理**：编译失败时显示错误信息但继续监控

## 传统编译方式

如果你不需要自动监控，仍可使用传统方式：

```powershell
# 基本编译
.\build.ps1 pdf

# 完整编译
.\build.ps1 full

# 编译并查看
.\build.ps1 view

# 清理文件
.\build.ps1 clean
```

## 故障排除

### 脚本无法运行

- 确保 PowerShell 执行策略允许运行脚本
- 运行：`Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`

### 编译失败

- 检查 LaTeX 安装是否完整
- 确保使用 XeLaTeX 编译器
- 查看错误信息定位问题

### 文件变化未被检测

- 确保文件扩展名为 `.tex`
- 检查文件是否在项目目录或子目录中
- 重启监控脚本

## 提示

- 建议在一个终端窗口中运行开发模式，在另一个窗口中进行其他操作
- PDF 查看器建议使用支持自动刷新的工具（如 SumatraPDF）
- 大型文档建议使用较长的防抖延迟（3-5 秒）
